{% extends 'base.html' %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2 class="card-title">Edit Event</h2>
    </div>
    <form method="post">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label class="form-label">Event Title *</label>
                    <input type="text" name="title" class="form-control" value="{{ event.title }}" required>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea name="description" class="form-control" rows="4">{{ event.description }}</textarea>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Event Date & Time *</label>
                    <input type="datetime-local" name="event_date" class="form-control" value="{{ event.event_date|date:'Y-m-d\TH:i' }}" required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <input type="text" name="location" class="form-control" value="{{ event.location }}">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Event Type</label>
                    <select name="event_type" class="form-control">
                        <option value="">Select</option>
                        <option value="networking" {% if event.event_type == 'networking' %}selected{% endif %}>Networking</option>
                        <option value="workshop" {% if event.event_type == 'workshop' %}selected{% endif %}>Workshop</option>
                        <option value="reunion" {% if event.event_type == 'reunion' %}selected{% endif %}>Reunion</option>
                        <option value="seminar" {% if event.event_type == 'seminar' %}selected{% endif %}>Seminar</option>
                        <option value="conference" {% if event.event_type == 'conference' %}selected{% endif %}>Conference</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Organizer (Alumni)</label>
                    <select name="organizer_id" class="form-control">
                        <option value="">None</option>
                        {% for a in alumni %}
                        <option value="{{ a.id }}" {% if event.organizer and event.organizer.id == a.id %}selected{% endif %}>{{ a.fullname }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Max Attendees</label>
                    <input type="number" name="max_attendees" class="form-control" value="{{ event.max_attendees }}" min="1">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Active</label>
                    <input type="checkbox" name="is_active" {% if event.is_active %}checked{% endif %}>
                </div>
            </div>
        </div>
        <div class="action-buttons">
            <button type="submit" class="btn btn-primary">Update Event</button>
            <a href="{% url 'allevents' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}

